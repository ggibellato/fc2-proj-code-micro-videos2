(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{540:function(e,t,r){},958:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(21),o=r.n(c),i=(r(540),r(987)),s=r(993),l=r(324),u=r(38),d=r(7),b=r(1015),p=r(87),j=r(986),f=r(325),h=r(268),m=r(1009),O=r(18),g=r(2),x=Object(f.a)({title:{color:"#999999"}}),v=function(e){var t=x();return Object(g.jsxs)(j.a,{children:[Object(g.jsx)(p.a,{className:t.title,component:"h1",variant:"h5",children:e.title}),Object(g.jsx)(l.a,{paddingTop:1,children:e.children})]})},y=function(e){return Object(g.jsx)(v,{title:"Dashboard"})},P=r(1004),C=r(112),k=r.n(C),F=r(20),w=r(12),S=r.n(w),T=r(23),R=r(15),I=r(246),A=r(95),E=r.n(A),D=r(42),N=r(36),L=r(509),_=r(121),B=r(145),q=r(142),M={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},success:{main:B.a[500],contrastText:"#fff"},error:{main:q.a[500],contrastText:"#fff"}},V=Object(_.b)({palette:M,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:M.background.default},icon:{color:M.primary.main,"&:hover, &active, &.focus":{color:M.secondary.dark}},iconActive:{color:M.secondary.dark,"&:hover, &active, &.focus":{color:M.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:M.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#ffffff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:M.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:M.secondary.main,"&:hover, &:active, &.focus":{color:M.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:M.primary.main},iconButton:{color:M.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:M.background.default}}},MUIDataTablePagination:{root:{color:M.primary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),U=Object(_.b)({palette:{primary:V.palette.success,secondary:V.palette.error}}),z=function(){return Object(g.jsx)(i.a,{theme:U,children:Object(g.jsx)(L.a,{label:"Sim",color:"primary"})})},G=function(){return Object(g.jsx)(i.a,{theme:U,children:Object(g.jsx)(L.a,{label:"Nao",color:"secondary"})})},W=Object(a.createContext)(!1),H=r(510),Y=r.n(H),Q=r(22),X=r(1006),Z=r(244),K=r(451),J=r(331),$=r.n(J),ee=r(332),te=r.n(ee),re=Object(f.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"}),ae=function(e){var t=e.options,r=e.searchText,n=e.onSearch,c=e.onHide,o=e.debouncedTime,i=re(),s=Object(a.useState)(r),l=Object(R.a)(s,2),u=l[0],b=l[1];Object(a.useEffect)((function(){r&&void 0!==r.value&&u!==r.value&&b(r.value)}),[r,u]);var p=Object(a.useCallback)(Object(D.debounce)((function(e){return n(e)}),o),[n,o]);Object(a.useEffect)((function(){p(u)}),[p,u]);return Object(g.jsx)(Z.a,{appear:!0,in:!0,timeout:300,children:Object(g.jsxs)("div",{className:i.main,children:[Object(g.jsx)($.a,{className:i.searchIcon}),Object(g.jsx)(K.a,Object(d.a)({className:i.searchText,autoFocus:!0,InputProps:{"data-test-id":t.textLabels.toolbar.search},inputProps:{"aria-label":t.textLabels.toolbar.search},value:u||"",onKeyDown:function(e){"Escape"===e.key&&c()},onChange:function(e){var t=e.target.value;b(t)},fullWidth:!0,placeholder:t.searchPlaceholder},t.searchProps?t.searchProps:{})),Object(g.jsx)(I.a,{className:i.clearIcon,onClick:c,children:Object(g.jsx)(te.a,{})})]})})},ne=a.forwardRef((function(e,t){var r,a,n=Object(D.cloneDeep)(Object(Q.a)()),c=Object(X.a)(n.breakpoints.down("sm")),o=(r=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registros(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,a,n){return Object(g.jsx)(ae,{searchText:e,onSearch:t,onHide:a,options:n,debouncedTime:r})}}),s=Object(D.merge)({options:Object(D.cloneDeep)(o)},e,{columns:(a=e.columns,function(e){e.forEach((function(e,t){e.width&&(n.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(a),a.map((function(e){return Object(D.omit)(e,"width")})))});!function(){var e=s.options.textLabels;e.body.noMatch=!0===s.loading?"Carregando...":e.body.noMatch}(),s.options.responsive=c?"standard":"vertical";var l=Object(d.a)(Object(d.a)({},Object(D.omit)(s,"loading")),{},{ref:t});return Object(g.jsx)(i.a,{theme:n,children:Object(g.jsx)(Y.a,Object(d.a)({},l))})}));function ce(e){return function(t){var r=Object(D.cloneDeep)(t),a='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return r.overrides.MUIDataTableBodyCell.root[a]={paddingTop:"0px",paddingBottom:"0px"},r}}var oe,ie=r(440),se=r(514),le=r.n(se),ue=Object(f.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),de=function(e){var t=ue();return Object(g.jsx)(ie.a,{title:"Limpar busca",children:Object(g.jsx)(I.a,{className:t.iconButton,onClick:e.handleClick,children:Object(g.jsx)(le.a,{})})})},be=r(29),pe=r(30),je=r(1017),fe=r(151),he=Object(fe.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),me=he.Types,Oe=he.Creators,ge={search:"",pagination:{page:1,per_page:10},order:{sort:null,dir:null}},xe=Object(fe.createReducer)(ge,(oe={},Object(F.a)(oe,me.SET_SEARCH,(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,r=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},t),{},{search:null!==(e=r.payload.search)&&void 0!==e?e:"",pagination:Object(d.a)(Object(d.a)({},t.pagination),{},{page:1})})})),Object(F.a)(oe,me.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{pagination:Object(d.a)(Object(d.a)({},e.pagination),{},{page:t.payload.page})})})),Object(F.a)(oe,me.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{pagination:Object(d.a)(Object(d.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(F.a)(oe,me.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(F.a)(oe,me.SET_RESET,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge;return Object(d.a)(Object(d.a)({},e),{},{search:{value:null,update:!0},order:{sort:null,dir:null},extraFilter:void 0})})),Object(F.a)(oe,me.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(Object(d.a)({},e),{},{extraFilter:Object(d.a)(Object(d.a)({},e.extraFilter),t.payload)})})),oe));var ve=r(233);function ye(e){var t=Object(O.f)(),r=Object(O.g)(),n=r.search,c=r.pathname,o=r.state,i=e.rowsPerPage,s=e.rowsPerPageOptions,l=e.extraFilter,u=e.columns,b=Object(a.useMemo)((function(){return ve.d().shape(Object(d.a)({search:ve.f().transform((function(e){return e||void 0})).default(""),pagination:ve.d().shape({page:ve.c().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:ve.c().transform((function(e){return isNaN(e)||!s.includes(parseInt(e))?void 0:e})).default(i)}),order:ve.d().shape({sort:ve.f().nullable().transform((function(e){return u.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:ve.f().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},l&&{extraFilter:l.createValidationSchema()}))}),[s,i,u,l]),p=Object(a.useMemo)((function(){var e=new URLSearchParams(n.substr(1));return b.cast(Object(d.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},l&&{extraFilter:l.getStateFromURL(e)}))}),[n,b,l]),j=Object(a.useCallback)((function(e){var t=e;return t&&void 0!==t.value&&(t=t.value),t}),[]),f=Object(a.useCallback)((function(e,t){var r=j(e.search);return Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},r&&""!==r&&{search:r}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[j]),h=p,m=Object(a.useReducer)(xe,h),g=Object(R.a)(m,2),x=g[0],v=g[1],y=new Pe(Object(d.a)(Object(d.a)({},e),{},{state:x,dispatch:v,schema:b})),P=Object(je.a)(x,e.debounceTime),C=Object(R.a)(P,1)[0],k=Object(a.useState)(0),F=Object(R.a)(k,2),w=F[0],S=F[1];return Object(a.useEffect)((function(){t.replace({pathname:c,search:"?"+new URLSearchParams(f(p,l)),state:p})}),[t,c,f,p,l]),Object(a.useEffect)((function(){var e={pathName:c,search:"?"+new URLSearchParams(f(C,l)),state:Object(d.a)(Object(d.a)({},C),{},{search:j(C.search)})},r=o,a=Object(d.a)(Object(d.a)({},C),{},{search:j(C.search)});Object(D.isEqual)(r,a)||t.push(e)}),[t,c,f,o,C,l,j]),y.state=x,y.applyOderInColumns(),{columns:y.columns,cleanSearchText:j,filterManager:y,filterState:x,debounceFilterState:C,dispatch:v,totalRecords:w,setTotalRecords:S}}Object(ve.e)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max}"},number:{min:"${path} precisa ser no minimo ${min}"},array:{min:"${path} precisa ter pelo menos ${min} items"}});var Pe=function(){function e(t){Object(be.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var r=t.schema,a=t.columns,n=t.rowsPerPage,c=t.tableRef,o=t.dispatch,i=t.state;this.schema=r,this.columns=a,this.rowsPerPage=n,this.tableRef=c,this.dispatch=o,this.state=i}return Object(pe.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"changeSearch",value:function(e){this.dispatch(Oe.setSearch({search:null!==e&&void 0!==e?e:""}))}},{key:"changePage",value:function(e){this.dispatch(Oe.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Oe.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Oe.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(Oe.updateExtraFilter(e))}},{key:"applyOderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return e.state.order.sort===t.name?Object(d.a)(Object(d.a)({},t),{},{options:Object(d.a)(Object(d.a)({},t.options),{},{sortOrder:e.state.order.dir})}):t}))}},{key:"resetFilter",value:function(){var e=Object(d.a)(Object(d.a)({},this.schema.cast({})),{},{search:{value:null,update:!0},order:{sort:null,dir:null},extraFilter:void 0});this.dispatch(Oe.setReset({state:e})),this.resetTablePagination()}}]),e}(),Ce=r(525),ke=r(518),Fe=function(e,t){return Object(Ce.a)(Object(ke.a)(e),t)},we=r(43),Se=r(127),Te=r.n(Se),Re=Te.a.create({baseURL:"http://localhost:8000/api"}),Ie=[Re];var Ae=r(519),Ee=function(){function e(t,r){Object(be.a)(this,e),this.http=t,this.resource=r,this.cancelList=null}return Object(pe.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list request cancelled"),this.cancelList=Te.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.put("".concat(this.resource,"/").concat(e),a,o)}},{key:"partialUpdate",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.patch("".concat(this.resource,"/").concat(e),a,o)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return Te.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(Ae.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),De=new Ee(Re,"categories"),Ne={1:"Diretor",2:"Ator"},Le={0:"Nao",1:"Sim"},_e={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},Be=Object.values(Le),qe=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"4%",options:{filterOptions:{names:["Sim","Nao"]},customBodyRender:function(e,t,r){return e?Object(g.jsx)(z,{}):Object(g.jsx)(G,{})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:Fe(e,"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)(I.a,{color:"secondary",component:u.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(g.jsx)(E.a,{})})}}}],Me=[15,25,50],Ve=function(){var e=Object(N.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(R.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(W),l=Object(a.useRef)(),u=Object(a.useMemo)((function(){return{createValidationSchema:function(){return ve.d().shape({is_active:ve.f().nullable().transform((function(e){return e&&Be.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(d.a)({},e.extraFilter.is_active&&{is_active:e.extraFilter.is_active}):void 0},getStateFromURL:function(e){return{is_active:e.get("is_active")}}}}),[]),b=ye({columns:qe,debounceTime:300,tableRef:l,rowsPerPage:15,rowsPerPageOptions:Me,extraFilter:u}),p=b.columns,j=b.filterManager,f=b.cleanSearchText,h=b.filterState,m=b.debounceFilterState,O=b.totalRecords,x=b.setTotalRecords,v=f(m.search),y=p.findIndex((function(e){return"is_active"===e.name})),P=p[y],C=h.extraFilter&&h.extraFilter.is_active;P.options.filterList=C?[C]:[];var k=Object(a.useCallback)(function(){var r=Object(T.a)(S.a.mark((function r(a){var n,c,i,s,l,u,b,p;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,u=a.is_active,r.prev=1,r.next=4,De.list({queryParams:Object(d.a)({search:n,page:c,per_page:i,sort:s,dir:l},u&&{is_active:Object(D.invert)(Le)[u]})});case 4:b=r.sent,p=b.data,t.current&&(o(p.data),x(p.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!De.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,x]);return Object(a.useEffect)((function(){return t.current=!0,k(Object(d.a)({search:v,page:m.pagination.page,per_page:m.pagination.per_page,sort:m.order.sort,dir:m.order.dir},m.extraFilter&&m.extraFilter.is_active&&{is_active:m.extraFilter.is_active})),function(){t.current=!1}}),[k,v,m.pagination.page,m.pagination.per_page,m.order,m.extraFilter]),Object(g.jsx)(i.a,{theme:ce(qe.length-1),children:Object(g.jsx)(ne,{title:"Listagem de categorias",columns:p,data:c,loading:s,debouncedSearchTime:300,ref:l,options:{serverSide:!0,searchText:h.search,page:h.pagination.page-1,rowsPerPage:h.pagination.per_page,rowsPerPageOptions:Me,count:O,onFilterChange:function(e,t){var r=p.findIndex((function(t){return t.name===e})),a={};e?a=Object(F.a)({},e,t[r].length?t[r][0]:null):p.forEach((function(e){a[e.name]=null})),j.changeExtraFilter(a)},customToolbar:function(){return Object(g.jsx)(de,{handleClick:function(){return j.resetFilter()}})},onSearchChange:function(e){return j.changeSearch(e)},onChangePage:function(e){return j.changePage(e)},onChangeRowsPerPage:function(e){return j.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return j.changeColumnSort(e,t)}}})})},Ue=function(){return Object(g.jsxs)(v,{title:"Listagem de categorias",children:[Object(g.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(g.jsx)(P.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:u.b,to:"/categories/create",children:Object(g.jsx)(k.a,{})})}),Object(g.jsx)(l.a,{children:Object(g.jsx)(Ve,{})})]})},ze=r(445),Ge=r(503),We=r(113),He=function(e){return Object(a.useCallback)(function(){var t=Object(T.a)(S.a.mark((function t(r){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(r,{abortEarly:!1});case 3:return a=t.sent,t.abrupt("return",{values:a,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){var r;return Object(d.a)(Object(d.a)({},e),{},Object(F.a)({},t.path,{type:null!==(r=t.type)&&void 0!==r?r:"validation",message:t.message}))}),{})});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e])},Ye=r(444),Qe=Object(f.a)((function(e){return{submit:{margin:e.spacing(1)}}})),Xe=function(e){var t={className:Qe().submit,color:"secondary",variant:"contained",disabled:void 0!==e.disabledButtons&&e.disabledButtons};return Object(g.jsxs)(l.a,{dir:"rtl",children:[Object(g.jsx)(Ye.a,Object(d.a)(Object(d.a)({},t),{},{onClick:e.handleSave,children:"Salvar"})),Object(g.jsx)(Ye.a,Object(d.a)(Object(d.a)({},t),{},{type:"submit",children:"Salvar e continuar editando"}))]})},Ze=r(266),Ke=r(1005),Je=["GridContainerProps","GridItemProps"],$e=Object(f.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),et=function(e){var t=$e(),r=e.GridContainerProps,a=e.GridItemProps,n=Object(Ze.a)(e,Je);return Object(g.jsx)("form",Object(d.a)(Object(d.a)({},n),{},{children:Object(g.jsx)(Ke.a,Object(d.a)(Object(d.a)({container:!0},r),{},{children:Object(g.jsx)(Ke.a,Object(d.a)(Object(d.a)({className:t.gridItem,item:!0},a),{},{children:e.children}))}))}))},tt=ve.d().shape({name:ve.f().label("Nome").required().max(255)});function rt(){var e=He(tt),t=Object(We.a)({resolver:e,defaultValues:{is_active:!0,name:""}}),r=t.register,n=t.handleSubmit,c=t.getValues,o=t.setValue,i=t.errors,s=t.reset,l=t.watch,u=t.trigger,d=Object(N.b)(),b=Object(O.f)(),p=Object(O.h)().id,j=Object(a.useState)(null),f=Object(R.a)(j,2),h=f[0],m=f[1],x=Object(a.useContext)(W);function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(T.a)(S.a.mark((function e(t,r){var a,n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=h?De.update(h.id,t):De.create(t),e.next=4,a;case 4:n=e.sent,c=n.data,d.enqueueSnackbar("Categoria salva com sucesso",{variant:"success"}),setTimeout((function(){r?h?b.replace("/categories/".concat(c.data.id,"/edit")):b.push("/categories/".concat(c.data.id,"/edit")):b.push("/categories")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d.enqueueSnackbar("Nao foi poss\xedvel salvar a categoria",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(p){var e=!0;return Object(T.a)(S.a.mark((function t(){var r,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,De.get(p);case 3:r=t.sent,a=r.data,e&&(m(a.data),s(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d.enqueueSnackbar("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[p,d,s]),Object(a.useEffect)((function(){r({name:"is_active"})}),[r]),Object(g.jsxs)(et,{GridItemProps:{xs:12,md:6},onSubmit:n(v),children:[Object(g.jsx)(K.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:r,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==i.name,helperText:i.name&&i.name.message}),Object(g.jsx)(K.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,margin:"normal",variant:"outlined",inputRef:r,disabled:x,InputLabelProps:{shrink:!0}}),Object(g.jsx)(ze.a,{label:"Ativo?",labelPlacement:"end",disabled:x,control:Object(g.jsx)(Ge.a,{name:"is_active",color:"primary",onChange:function(){return o("is_active",!c().is_active)},checked:l("is_active")})}),Object(g.jsx)(Xe,{disabledButtons:x,handleSave:function(){return u().then((function(e){e&&v(c(),null)}))}})]})}function at(){var e=Object(O.h)().id;return Object(g.jsx)(v,{title:e?"Editar categoria":"Criar categoria",children:Object(g.jsx)(rt,{})})}var nt=new Ee(Re,"genres"),ct=Object.values(Le),ot=[{name:"id",label:"ID",width:"25%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"25%",options:{filter:!1}},{name:"categories",label:"Categorias",width:"20%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:null===e||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})}}},{name:"is_active",label:"Ativo?",width:"4%",options:{filterOptions:{names:["Sim","Nao"]},customBodyRender:function(e,t,r){return e?Object(g.jsx)(z,{}):Object(g.jsx)(G,{})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:Fe(e,"dd/MM/yyyy")})}}},{name:"actions",label:"Acoes",width:"8%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)(I.a,{color:"secondary",component:u.b,to:"/genres/".concat(t.rowData[0],"/edit"),children:Object(g.jsx)(E.a,{})})}}}],it=[15,25,50],st=function(){var e=Object(N.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(R.a)(r,2),c=n[0],o=n[1],s=Object(a.useState)([]),l=Object(R.a)(s,2)[1],u=Object(a.useContext)(W),b=Object(a.useRef)(),p=Object(a.useMemo)((function(){return{createValidationSchema:function(){return ve.d().shape({categories:ve.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null),is_active:ve.f().nullable().transform((function(e){return e&&ct.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(d.a)(Object(d.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}),e.extraFilter.is_active&&{is_active:e.extraFilter.is_active}):void 0},getStateFromURL:function(e){return{categories:e.get("categories"),is_active:e.get("is_active")}}}}),[]),j=ye({columns:ot,debounceTime:300,tableRef:b,rowsPerPage:15,rowsPerPageOptions:it,extraFilter:p}),f=j.columns,h=j.filterManager,m=j.cleanSearchText,O=j.filterState,x=j.debounceFilterState,v=j.totalRecords,y=j.setTotalRecords,P=m(x.search),C=f.findIndex((function(e){return"categories"===e.name})),k=f[C],w=O.extraFilter&&O.extraFilter.categories;k.options.filterList=w||[];var I=f.findIndex((function(e){return"is_active"===e.name})),A=f[I],E=O.extraFilter&&O.extraFilter.is_active;A.options.filterList=E?[E]:[];var L=Object(a.useCallback)(function(){var r=Object(T.a)(S.a.mark((function r(a){var n,c,i,s,l,u,b,p,j;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,u=a.categories,b=a.is_active,r.prev=1,r.next=4,nt.list({queryParams:Object(d.a)(Object(d.a)({search:n,page:c,per_page:i,sort:s,dir:l},u&&{categories:u.join(",")}),b&&{is_active:Object(D.invert)(Le)[b]})});case 4:p=r.sent,j=p.data,t.current&&(o(j.data),y(j.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!nt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,y]);return Object(a.useEffect)((function(){var t=!0;return Object(T.a)(S.a.mark((function r(){var a,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!t){r.next=8;break}return r.next=4,De.list({queryParams:{all:""}});case 4:a=r.sent,n=a.data,l(n.data),k.options.filterOptions.names=n.data.map((function(e){return e.name}));case 8:r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0),e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))(),function(){t=!1}}),[e,k.options]),Object(a.useEffect)((function(){return t.current=!0,L(Object(d.a)(Object(d.a)({search:P,page:x.pagination.page,per_page:x.pagination.per_page,sort:x.order.sort,dir:x.order.dir},x.extraFilter&&x.extraFilter.categories&&{categories:x.extraFilter.categories.join(",")}),x.extraFilter&&x.extraFilter.is_active&&{is_active:Object(D.invert)(Le)[x.extraFilter.is_active]})),function(){t.current=!1}}),[L,P,x.pagination.page,x.pagination.per_page,x.order,x.extraFilter]),Object(g.jsx)(i.a,{theme:ce(ot.length-1),children:Object(g.jsx)(ne,{title:"Listagem de g\xeaneros",columns:f,data:c,loading:u,debouncedSearchTime:300,ref:b,options:{serverSide:!0,searchText:O.search,page:O.pagination.page-1,rowsPerPage:O.pagination.per_page,rowsPerPageOptions:it,count:v,onFilterChange:function(e,t){var r=f.findIndex((function(t){return t.name===e}));h.changeExtraFilter(Object(F.a)({},e,t[r].length?t[r]:null))},customToolbar:function(){return Object(g.jsx)(de,{handleClick:function(){return h.resetFilter()}})},onSearchChange:function(e){return h.changeSearch(e)},onChangePage:function(e){return h.changePage(e)},onChangeRowsPerPage:function(e){return h.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return h.changeColumnSort(e,t)}}})})},lt=function(){return Object(g.jsxs)(v,{title:"Listagem de g\xeaneros",children:[Object(g.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(g.jsx)(P.a,{title:"Adicionar g\xeaneros",color:"secondary",size:"small",component:u.b,to:"/genres/create",children:Object(g.jsx)(k.a,{})})}),Object(g.jsx)(l.a,{children:Object(g.jsx)(st,{})})]})},ut=r(447),dt=ve.d().shape({name:ve.f().label("Nome").required().max(255),categories_id:ve.a().label("Categorias").required().min(1)});function bt(){var e=He(dt),t=Object(We.a)({resolver:e,defaultValues:{categories_id:[],is_active:!0}}),r=t.register,n=t.handleSubmit,c=t.getValues,o=t.setValue,i=t.errors,s=t.reset,l=t.watch,u=t.trigger,b=Object(N.b)().enqueueSnackbar,p=Object(O.f)(),j=Object(O.h)().id,f=Object(a.useState)(null),h=Object(R.a)(f,2),m=h[0],x=h[1],v=Object(a.useState)([]),y=Object(R.a)(v,2),P=y[0],C=y[1],k=Object(a.useContext)(W);function F(e,t){return w.apply(this,arguments)}function w(){return(w=Object(T.a)(S.a.mark((function e(t,r){var a,n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=m?nt.update(m.id,t):nt.create(t),e.next=4,a;case 4:n=e.sent,c=n.data,b("G\xeanero salvo com sucesso",{variant:"success"}),setTimeout((function(){r?m?p.replace("/genres/".concat(c.data.id,"/edit")):p.push("/genres/".concat(c.data.id,"/edit")):p.push("/genres")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),b("Nao foi poss\xedvel salvar o g\xeanero",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=!0;return Object(T.a)(S.a.mark((function t(){var r,a,n,c,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[De.list({queryParams:{all:""}})],j&&r.push(nt.get(j)),t.prev=2,t.next=5,Promise.all(r);case 5:a=t.sent,n=Object(R.a)(a,2),c=n[0],o=n[1],e&&(C(c.data.data),j&&(x(o.data.data),s(Object(d.a)(Object(d.a)({},o.data.data),{},{categories_id:o.data.data.categories.map((function(e){return e.id}))})))),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),b("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))(),function(){e=!1}}),[j,b,s]),Object(a.useEffect)((function(){r({name:"categories_id"}),r({name:"is_active"})}),[r]),Object(g.jsxs)(et,{GridItemProps:{xs:12,md:6},onSubmit:n(F),children:[Object(g.jsx)(K.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:r,disabled:k,InputLabelProps:{shrink:!0},error:void 0!==i.name,helperText:i.name&&i.name.message}),Object(g.jsxs)(K.a,{select:!0,name:"categories_id",label:"Categorias",fullWidth:!0,margin:"normal",variant:"outlined",value:l("categories_id"),onChange:function(e){o("categories_id",e.target.value)},disabled:k,InputLabelProps:{shrink:!0},SelectProps:{multiple:!0},error:void 0!==i.categories_id,helperText:i.categories_id&&i.categories_id.message,children:[Object(g.jsx)(ut.a,{value:"",disabled:!0,children:Object(g.jsx)("em",{children:"Selecione categorias"})}),P.map((function(e,t){return Object(g.jsx)(ut.a,{value:e.id,children:e.name},t)}))]}),Object(g.jsx)(ze.a,{label:"Ativo?",labelPlacement:"end",disabled:k,control:Object(g.jsx)(Ge.a,{name:"is_active",color:"primary",onChange:function(){return o("is_active",!c().is_active)},checked:l("is_active")})}),Object(g.jsx)(Xe,{disabledButtons:k,handleSave:function(){return u().then((function(e){e&&F(c(),null)}))}})]})}function pt(){var e=Object(O.h)().id;return Object(g.jsx)(v,{title:e?"Editar g\xeanero":"Criar g\xeanero",children:Object(g.jsx)(bt,{})})}var jt=new Ee(Re,"cast_members"),ft=Object.values(Ne),ht=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"27%",options:{filter:!1}},{name:"type",label:"Type",width:"20%",options:{filterOptions:{names:ft},customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:"".concat(e," - ").concat(Ne[e])})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:Fe(e,"dd/MM/yyyy")})}}},{name:"actions",label:"Acoes",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)(I.a,{color:"secondary",component:u.b,to:"/cast-members/".concat(t.rowData[0],"/edit"),children:Object(g.jsx)(E.a,{})})}}}],mt=[15,25,50],Ot=function(){var e=Object(N.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(R.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(W),l=Object(a.useRef)(),u=Object(a.useMemo)((function(){return{createValidationSchema:function(){return ve.d().shape({type:ve.f().nullable().transform((function(e){return e&&ft.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(d.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),[]),b=ye({columns:ht,debounceTime:300,tableRef:l,rowsPerPage:15,rowsPerPageOptions:mt,extraFilter:u}),p=b.columns,j=b.filterManager,f=b.cleanSearchText,h=b.filterState,m=b.debounceFilterState,O=b.totalRecords,x=b.setTotalRecords,v=f(m.search),y=p.findIndex((function(e){return"type"===e.name})),P=p[y],C=h.extraFilter&&h.extraFilter.type;P.options.filterList=C?[C]:[];var k=Object(a.useCallback)(function(){var r=Object(T.a)(S.a.mark((function r(a){var n,c,i,s,l,u,b,p;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,u=a.type,r.prev=1,r.next=4,jt.list({queryParams:Object(d.a)({search:n,page:c,per_page:i,sort:s,dir:l},u&&{type:Object(D.invert)(Ne)[u]})});case 4:b=r.sent,p=b.data,t.current&&(o(p.data),x(p.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!jt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,x]);return Object(a.useEffect)((function(){return t.current=!0,k(Object(d.a)({search:v,page:m.pagination.page,per_page:m.pagination.per_page,sort:m.order.sort,dir:m.order.dir},m.extraFilter&&m.extraFilter.type&&{type:m.extraFilter.type})),function(){t.current=!1}}),[k,v,m.pagination.page,m.pagination.per_page,m.order,m.extraFilter]),Object(g.jsx)(i.a,{theme:ce(ht.length-1),children:Object(g.jsx)(ne,{title:"Listagem de membros do elenco",columns:p,data:c,loading:s,debouncedSearchTime:300,ref:l,options:{serverSide:!0,searchText:h.search,page:h.pagination.page-1,rowsPerPage:h.pagination.per_page,rowsPerPageOptions:mt,count:O,onFilterChange:function(e,t){var r=p.findIndex((function(t){return t.name===e})),a={};e?a=Object(F.a)({},e,t[r].length?t[r][0]:null):p.forEach((function(e){a[e.name]=null})),j.changeExtraFilter(a)},customToolbar:function(){return Object(g.jsx)(de,{handleClick:function(){return j.resetFilter()}})},onSearchChange:function(e){j.changeSearch(e)},onChangePage:function(e){return j.changePage(e)},onChangeRowsPerPage:function(e){return j.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return j.changeColumnSort(e,t)}}})})},gt=function(){return Object(g.jsxs)(v,{title:"Listagem de membros do elenco",children:[Object(g.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(g.jsx)(P.a,{title:"Adicionar membro do elenco",color:"secondary",size:"small",component:u.b,to:"/cast-members/create",children:Object(g.jsx)(k.a,{})})}),Object(g.jsx)(l.a,{children:Object(g.jsx)(Ot,{})})]})},xt=r(326),vt=r(970),yt=r(448),Pt=r(1014),Ct=r(969),kt=ve.d().shape({name:ve.f().label("Nome").required().max(255),type:ve.c().label("Tipo").required()});function Ft(){var e=He(kt),t=Object(We.a)({resolver:e,defaultValues:{name:""}}),r=t.register,n=t.handleSubmit,c=t.getValues,o=t.setValue,i=t.errors,s=t.reset,l=t.watch,u=t.trigger,d=Object(N.b)(),b=Object(O.f)(),p=Object(O.h)().id,j=Object(a.useState)(null),f=Object(R.a)(j,2),h=f[0],m=f[1],x=Object(a.useContext)(W);function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(T.a)(S.a.mark((function e(t,r){var a,n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=h?jt.update(h.id,t):jt.create(t),e.next=4,a;case 4:n=e.sent,c=n.data,d.enqueueSnackbar("Membro de elenco salvo com sucesso",{variant:"success"}),setTimeout((function(){r?h?b.replace("/cast-members/".concat(c.data.id,"/edit")):b.push("/cast-members/".concat(c.data.id,"/edit")):b.push("/cast-members")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d.enqueueSnackbar("Nao foi poss\xedvel salvar o membro de elenco",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(p){var e=!0;Object(T.a)(S.a.mark((function t(){var r,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jt.get(p);case 3:r=t.sent,a=r.data,e&&(m(a.data),s(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d.enqueueSnackbar("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:return t.abrupt("return",(function(){e=!1}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),[p,d,s]),Object(a.useEffect)((function(){r({name:"type"})}),[r]),Object(g.jsxs)(et,{GridItemProps:{xs:12,md:6},onSubmit:n(v),children:[Object(g.jsx)(K.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:r,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==i.name,helperText:i.name&&i.name.message}),Object(g.jsxs)(xt.a,{margin:"normal",disabled:x,error:void 0!==i.type,children:[Object(g.jsx)(vt.a,{component:"legend",children:"Tipo"}),Object(g.jsxs)(yt.a,{name:"type",onChange:function(e){o("type",parseInt(e.target.value))},value:l("type")+"",children:[Object(g.jsx)(ze.a,{value:"1",control:Object(g.jsx)(Pt.a,{}),label:"Diretor"}),Object(g.jsx)(ze.a,{value:"2",control:Object(g.jsx)(Pt.a,{}),label:"Ator"})]}),i.type&&Object(g.jsx)(Ct.a,{id:"type-helper-text",children:i.type.message})]}),Object(g.jsx)(Xe,{disabledButtons:x,handleSave:function(){return u().then((function(e){e&&v(c(),null)}))}})]})}function wt(){var e=Object(O.h)().id;return Object(g.jsx)(v,{title:e?"Editar membro do elenco":"Criar membro do elenco",children:Object(g.jsx)(Ft,{})})}var St=r(994),Tt=r(999),Rt=r(997),It=r(998),At=r(996),Et=function(e){var t=e.open,r=e.handleClose;return Object(g.jsxs)(St.a,{open:t,onClose:function(){return r(!1)},children:[Object(g.jsx)(Tt.a,{children:"Exclusao de registros"}),Object(g.jsx)(Rt.a,{children:Object(g.jsx)(It.a,{children:"Deseja realmente excluir este(s) registro(s)?"})}),Object(g.jsxs)(At.a,{children:[Object(g.jsx)(Ye.a,{onClick:function(){return r(!1)},color:"primary",children:"Cancelar"}),Object(g.jsx)(Ye.a,{onClick:function(){return r(!0)},color:"primary",autoFocus:!0,children:"Excluir"})]})]})},Dt=r(60),Nt=r(61),Lt=new(function(e){Object(Dt.a)(r,e);var t=Object(Nt.a)(r);function r(){return Object(be.a)(this,r),t.apply(this,arguments)}return Object(pe.a)(r,[{key:"addFile",value:function(e,t){return this.http.post("videos/".concat(e),t)}}]),r}(Ee))(Re,"videos"),_t=function(){var e=Object(a.useState)(!1),t=Object(R.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)({data:[]}),o=Object(R.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:r,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:s}},Bt=[{name:"id",label:"ID",width:"37%",options:{sort:!1,filter:!1}},{name:"title",label:"Titulo",width:"20%",options:{filter:!1}},{name:"genres",label:"Generos",width:"15%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:null===e||void 0===e?void 0:e.map((function(e){return e.name})).join(",")})}}},{name:"categories",label:"Categorias",width:"15%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:null===e||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)("span",{children:Fe(e,"dd/MM/yyyy")})}}},{name:"actions",label:"Acoes",width:"3%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(g.jsx)(I.a,{color:"secondary",component:u.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(g.jsx)(E.a,{})})}}}],qt=[15,25,50],Mt=function(){var e=Object(N.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(R.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(W),l=_t(),u=l.openDeleteDialog,d=l.setOpenDeleteDialog,b=l.rowsToDelete,p=l.setRowsToDelete,j=Object(a.useRef)(),f=ye({columns:Bt,debounceTime:300,tableRef:j,rowsPerPage:15,rowsPerPageOptions:qt}),h=f.columns,m=f.filterManager,O=f.cleanSearchText,x=f.filterState,v=f.debounceFilterState,y=f.totalRecords,P=f.setTotalRecords,C=O(v.search),k=Object(a.useCallback)(function(){var r=Object(T.a)(S.a.mark((function r(a){var n,c,i,s,l,b,p;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,r.prev=1,r.next=4,Lt.list({queryParams:{search:n,page:c,per_page:i,sort:s,dir:l}});case 4:b=r.sent,p=b.data,t.current&&(o(p.data),P(p.meta.total),u&&d(!1)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!nt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),[e,u,d,P]);return Object(a.useEffect)((function(){return t.current=!0,k({search:C,page:v.pagination.page,per_page:v.pagination.per_page,sort:v.order.sort,dir:v.order.dir}),function(){t.current=!1}}),[k,C,v.pagination.page,v.pagination.per_page,v.order]),Object(g.jsxs)(i.a,{theme:ce(Bt.length-1),children:[Object(g.jsx)(Et,{open:u,handleClose:function(t){if(t){var r=b.data.map((function(e){return c[e.index].id})).join(",");Lt.deleteCollection({ids:r}).then((function(t){if(e("Registros excluido com sucesso",{variant:"success"}),x.pagination.page>1&&b.data.length===x.pagination.per_page){var r=x.pagination.page-2;m.changePage(r)}else k({search:C,page:v.pagination.page,per_page:v.pagination.per_page,sort:v.order.sort,dir:v.order.dir})})).catch((function(t){console.error(t),e("Nao foi possivel excluir os registros",{variant:"error"})}))}else d(!1)}}),Object(g.jsx)(ne,{title:"Listagem de videos",columns:h,data:c,loading:s,debouncedSearchTime:300,ref:j,options:{serverSide:!0,searchText:x.search,page:x.pagination.page-1,rowsPerPage:x.pagination.per_page,rowsPerPageOptions:qt,count:y,onFilterChange:function(e,t){var r=h.findIndex((function(t){return t.name===e}));m.changeExtraFilter(Object(F.a)({},e,t[r].length?t[r]:null))},customToolbar:function(){return Object(g.jsx)(de,{handleClick:function(){return m.resetFilter()}})},onSearchChange:function(e){return m.changeSearch(e)},onChangePage:function(e){return m.changePage(e)},onChangeRowsPerPage:function(e){return m.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return m.changeColumnSort(e,t)},onRowsDelete:function(e,t){return p(e),!1}}})]})},Vt=function(){return Object(g.jsxs)(v,{title:"Listagem de videos",children:[Object(g.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(g.jsx)(P.a,{title:"Adicionar videos",color:"secondary",size:"small",component:u.b,to:"/videos/create",children:Object(g.jsx)(k.a,{})})}),Object(g.jsx)(l.a,{children:Object(g.jsx)(Mt,{})})]})},Ut=r(26),zt=r(989),Gt=r(991),Wt=Object(f.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),Ht={L:"#398549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#D00003",18:"#000000"},Yt=function(e){var t=Wt();return Object(g.jsx)(p.a,{className:t.root,style:{backgroundColor:Ht[e.rating]},children:e.rating})},Qt=[{value:"L",control:Object(g.jsx)(Pt.a,{color:"primary"}),label:Object(g.jsx)(Yt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(g.jsx)(Pt.a,{color:"primary"}),label:Object(g.jsx)(Yt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(g.jsx)(Pt.a,{color:"primary"}),label:Object(g.jsx)(Yt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(g.jsx)(Pt.a,{color:"primary"}),label:Object(g.jsx)(Yt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:Object(g.jsx)(Pt.a,{color:"primary"}),label:Object(g.jsx)(Yt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:Object(g.jsx)(Pt.a,{color:"primary"}),label:Object(g.jsx)(Yt,{rating:"18"}),labelPlacement:"top"}],Xt=function(e){var t=e.value,r=e.setValue,a=e.error,n=e.disabled;return Object(g.jsxs)(xt.a,Object(d.a)(Object(d.a)({disabled:!0===n,error:void 0!==a},e.FormControlProps),{},{children:[Object(g.jsx)(vt.a,{component:"legend",children:"Classificacao"}),Object(g.jsx)(l.a,{paddingTop:1,children:Object(g.jsx)(yt.a,{name:"rating",onChange:function(e){r(e.target.value)},value:t||"",row:!0,children:Qt.map((function(e,t){return Object(g.jsx)(ze.a,Object(d.a)({},e),t)}))})}),a&&Object(g.jsx)(Ct.a,{children:a.message})]}))},Zt=r(520),Kt=r.n(Zt),Jt=r(1007),$t=n.a.forwardRef((function(e,t){var r=Object(a.useRef)(),n=Object(a.useState)(""),c=Object(R.a)(n,2),o=c[0],i=c[1];Object(a.useImperativeHandle)(t,(function(){return{openWindow:function(){return r.current.click()},clear:function(){return i("")}}}));var s=Object(d.a)(Object(d.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(d.a)(Object(d.a)({},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(d.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:Object(g.jsx)(Jt.a,{position:"end",children:e.ButtonFile})}),value:o}),l=Object(d.a)(Object(d.a)({},e.InputFileProps),{},{onChange:function(t){var r=t.target.files;r.length&&i(Array.from(r).map((function(e){return e.name})).join(",")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)},hidden:!0,ref:r});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",Object(d.a)({type:"file"},l)),Object(g.jsx)(K.a,Object(d.a)({},s))]})})),er=n.a.forwardRef((function(e,t){var r=Object(a.useRef)(),n=e.accept,c=e.label,o=e.setValue,i=e.error,s=e.disabled;return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return r.current.clear()}}})),Object(g.jsx)(xt.a,Object(d.a)(Object(d.a)({disabled:!0===s,error:void 0!==i,fullWidth:!0,margin:"normal"},e.FormControlProps),{},{children:Object(g.jsx)($t,{ref:r,TextFieldProps:{label:c,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"}},InputFileProps:{accept:n,onChange:function(e){var t=e.target.files;t.length&&o(t[0])}},ButtonFile:Object(g.jsx)(Ye.a,{endIcon:Object(g.jsx)(Kt.a,{}),variant:"contained",color:"primary",onClick:function(){return r.current.openWindow()},children:"Adicionar"})})}))})),tr=r(992),rr=r(1013),ar=n.a.forwardRef((function(e,t){var r=e.AutocompleteProps,n=e.debounceTime,c=void 0===n?300:n,o=e.fetchOptions,i=r,s=i.freeSolo,l=void 0!==s&&s,u=i.onOpen,b=i.onClose,p=i.onInputChange,j=Object(a.useState)(!1),f=Object(R.a)(j,2),h=f[0],m=f[1],O=Object(a.useState)(""),x=Object(R.a)(O,2),v=x[0],y=x[1],P=Object(je.a)(v,c),C=Object(R.a)(P,1)[0],k=Object(a.useState)(!1),F=Object(R.a)(k,2),w=F[0],I=F[1],A=Object(a.useState)([]),E=Object(R.a)(A,2),D=E[0],N=E[1],L=Object(d.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(d.a)({},e.TextFieldProps)),_=Object(d.a)(Object(d.a)({open:h,loading:w,loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},r&&Object(d.a)({},r)),{},{onOpen:function(){m(!0),u&&u()},onClose:function(){m(!1),b&&b()},onInputChange:function(e,t){y(t),p&&p()},options:D,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(g.jsx)(K.a,Object(d.a)(Object(d.a)(Object(d.a)({},e),L),{},{InputProps:Object(d.a)(Object(d.a)({},e.InputProps),{},{endAdornment:Object(g.jsxs)(g.Fragment,{children:[w&&Object(g.jsx)(tr.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return Object(a.useEffect)((function(){h||l||N([])}),[l,h]),Object(a.useEffect)((function(){if(h&&(""!==C||!l)){var e=!0;return Object(T.a)(S.a.mark((function t(){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(!0),t.prev=1,t.next=4,o(C);case 4:r=t.sent,e&&N(r);case 6:return t.prev=6,I(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[l,C,h,o]),Object(a.useImperativeHandle)(t,(function(){return{clear:function(){y(""),N([])}}})),Object(g.jsx)(rr.a,Object(d.a)({},_))})),nr=Object(f.a)((function(e){return Object(h.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),cr=function(e){var t=nr();return Object(g.jsx)(Ke.a,Object(d.a)(Object(d.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},or=r(122),ir=r.n(or),sr=["onDelete","children"],lr=function(e){var t=e.onDelete,r=e.children,a=Object(Ze.a)(e,sr);return Object(g.jsx)(Ke.a,Object(d.a)(Object(d.a)({item:!0},a),{},{children:Object(g.jsxs)(Ke.a,{container:!0,alignItems:"center",spacing:3,children:[Object(g.jsx)(Ke.a,{item:!0,xs:1,children:Object(g.jsx)(I.a,{size:"small",color:"inherit",onClick:t,children:Object(g.jsx)(ir.a,{})})}),Object(g.jsx)(Ke.a,{item:!0,xs:10,md:11,children:r})]})}))},ur=function(e,t){var r=Object(N.b)();return{addItem:function(a){a&&""!==a&&(e.find((function(e){return e.id===a.id}))?r.enqueueSnackbar("Item ja adicionado",{variant:"info"}):(e.unshift(a),t(e)))},removeItem:function(r){var a=e.findIndex((function(e){return e.id===r.id}));-1!==a&&(e.splice(a,1),t(e))}}},dr=function(){var e=Object(N.b)().enqueueSnackbar;return Object(a.useCallback)(function(){var t=Object(T.a)(S.a.mark((function t(r){var a,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),Te.a.isCancel(t.t0)||e("Nao foi poss\xedvel carregar as infirma\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])};function br(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var pr=n.a.forwardRef((function(e,t){var r=e.genres,n=e.setGenres,c=e.categories,o=e.setCategories,i=e.error,s=e.disabled,l=dr(),u=ur(r,n),b=u.addItem,j=u.removeItem,f=ur(c,o).removeItem,h=Object(a.useRef)(),m=Object(Q.a)(),O=Object(a.useCallback)((function(e){return l(nt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[l]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return h.current.clear()}}})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ar,{ref:h,fetchOptions:O,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return b(t)},disabled:s},TextFieldProps:{label:"G\xeaneros",error:void 0!==i}}),Object(g.jsx)(Ct.a,{style:{height:m.spacing(3)},children:"Escolha pelo os g\xeaneros do video"}),Object(g.jsxs)(xt.a,Object(d.a)(Object(d.a)({margin:"normal",fullWidth:!0,disabled:!0===s,error:void 0!==i},e.FormControlProps),{},{children:[Object(g.jsx)(cr,{children:r.map((function(e,t){return Object(g.jsx)(lr,{xs:12,onDelete:function(){c.filter((function(t){return 1===br(r,t).length&&r[0].id===e.id})).forEach((function(e){return f(e)})),j(e)},children:Object(g.jsx)(p.a,{noWrap:!0,children:e.name})},t)}))}),i&&Object(g.jsx)(Ct.a,{children:i.message})]}))]})})),jr=r(139),fr=Object(f.a)((function(e){return{genresSubtitle:{color:jr.a[800],fontSize:"0.8rem"}}})),hr=n.a.forwardRef((function(e,t){var r=e.categories,n=e.setCategories,c=e.genres,o=e.error,i=e.disabled,s=fr(),l=dr(),u=ur(r,n),b=u.addItem,j=u.removeItem,f=Object(a.useRef)(),h=Object(Q.a)(),m=Object(a.useCallback)((function(e){return l(De.list({queryParams:{genres:c.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[c,l]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ar,{ref:f,fetchOptions:m,AutocompleteProps:{clearOnEscape:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){return b(t)},getOptionSelected:function(e,t){return e.id===t.id},disabled:!0===i||!c.length},TextFieldProps:{label:"Categorias",error:void 0!==o}}),Object(g.jsx)(Ct.a,{style:{height:h.spacing(3)},children:"Escolha pelo menos uma categoria de cada g\xeanero"}),Object(g.jsxs)(xt.a,Object(d.a)(Object(d.a)({margin:"normal",fullWidth:!0,disabled:!0===i,error:void 0!==o},e.FormControlProps),{},{children:[Object(g.jsx)(cr,{children:r.map((function(e,t){var r=br(c,e).map((function(e){return e.name})).join(",");return Object(g.jsxs)(lr,{onDelete:function(){return j(e)},xs:12,children:[Object(g.jsx)(p.a,{noWrap:!0,children:e.name}),Object(g.jsxs)(p.a,{noWrap:!0,className:s.genresSubtitle,children:["G\xeaneros: ",r]})]},t)}))}),o&&Object(g.jsx)(Ct.a,{children:o.message})]}))]})})),mr=n.a.forwardRef((function(e,t){var r=e.cast_members,n=e.setCastMembers,c=e.error,o=e.disabled,i=dr(),s=ur(r,n),l=s.addItem,u=s.removeItem,b=Object(a.useRef)(),j=Object(a.useCallback)((function(e){return i(jt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[i]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ar,{ref:b,fetchOptions:j,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return l(t)},disabled:o},TextFieldProps:{label:"Membro do Elenco",error:void 0!==c}}),Object(g.jsxs)(xt.a,Object(d.a)(Object(d.a)({margin:"normal",fullWidth:!0,disabled:!0===o,error:void 0!==c},e.FormControlProps),{},{children:[Object(g.jsx)(cr,{children:r.map((function(e,t){return Object(g.jsx)(lr,{xs:6,onDelete:function(){u(e)},children:Object(g.jsx)(p.a,{noWrap:!0,children:e.name})},t)}))}),c&&Object(g.jsx)(Ct.a,{children:c.message})]}))]})})),Or=function(e,t){var r=Object(N.b)().enqueueSnackbar;Object(a.useEffect)((function(){var a=0!==Object.keys(t).length;e>0&&a&&r("Formulario invalido. Reveja os campos marcados de vermelhos.",{variant:"error"})}),[e,t,r])},gr=r(990),xr=r(527),vr=r(971),yr=r(184),Pr=r.n(yr),Cr=r(264),kr=r.n(Cr),Fr=r(521),wr=r.n(Fr),Sr=r(972),Tr=r(1010),Rr=r(446),Ir=r(1e3),Ar=r(263),Er=r.n(Ar),Dr=r(528);function Nr(e){return 1===e.progress||Lr(e)}function Lr(e){return _r(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function _r(e){return"video"in e}var Br,qr=Object(f.a)((function(e){return{progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:jr.a[300]}}})),Mr=function(e){var t=e.uploadOrFile,r=e.size,a=qr(),n=Lr(t);return Object(g.jsx)(Dr.a,{in:t.progress<1,timeout:{enter:100,exit:2e3},children:Object(g.jsxs)("div",{className:a.progressContainer,children:[Object(g.jsx)(tr.a,{variant:"static",value:100,className:a.progressBackground,size:r}),Object(g.jsx)(tr.a,{variant:"static",value:n?0:100*t.progress,className:a.progress,size:r})]})})},Vr=r(1011),Ur=r(261),zr=r.n(Ur),Gr=r(262),Wr=r.n(Gr),Hr=r(81),Yr=r(191),Qr=r.n(Yr),Xr=Object(fe.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["setUploadError"]}),Zr=Xr.Types,Kr=Xr.Creators,Jr={uploads:[]},$r=Object(fe.createReducer)(Jr,(Br={},Object(F.a)(Br,Zr.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var r=ra(e,t.payload.video.id);if(-1!==r&&e.uploads[r].progress<1)return e;var a=-1===r?e.uploads:Qr()(e.uploads,{$splice:[[r,1]]});return{uploads:[].concat(Object(Ut.a)(a),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(F.a)(Br,Zr.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0,r=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(r.length===e.uploads.length)return e;return{uploads:r}})),Object(F.a)(Br,Zr.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=ea(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c||"undefined"===typeof o)return e;var i=e.uploads[c],s=i.files[o];if(s.progress===t.payload.progress)return e;var l=Qr()(e.uploads,Object(F.a)({},c,{$apply:function(e){var r=Qr()(e.files,Object(F.a)({},o,{$set:Object(d.a)(Object(d.a)({},s),{},{progress:t.payload.progress})})),a=ta(r);return Object(d.a)(Object(d.a)({},e),{},{progress:a,files:r})}}));return{uploads:l}})),Object(F.a)(Br,Zr.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=ea(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c||"undefined"===typeof o)return e;var i=e.uploads[c],s=i.files[o],l=Qr()(e.uploads,Object(F.a)({},c,{files:Object(F.a)({},o,{$set:Object(d.a)(Object(d.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:l}})),Br));function ea(e,t,r){var a=ra(e,t);if(-1===a)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[a].files,r);return-1===n?{}:{indexUpload:a,indexFile:n}}function ta(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function ra(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var aa=Object(f.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),na=function(e){var t=e.upload,r=e.hover,n=aa(),c=Object(Hr.b)(),o=Object(a.useState)(!1),i=Object(R.a)(o,2),s=i[0],l=i[1],u=Object(je.a)(s,2500),d=Object(R.a)(u,1)[0],b=Lr(t);return Object(a.useEffect)((function(){l(Nr(t))}),[t]),d?Object(g.jsx)(Dr.a,{in:!0,timeout:{enter:1e3},children:Object(g.jsxs)(Vr.a,{children:[Object(g.jsxs)("span",{hidden:r,children:[1===t.progress&&!b&&Object(g.jsx)(I.a,{className:n.successIcon,edge:"end",children:Object(g.jsx)(zr.a,{})}),b&&Object(g.jsx)(I.a,{className:n.errorIcon,edge:"end",children:Object(g.jsx)(Wr.a,{})})]}),Object(g.jsx)("span",{hidden:!r,children:Object(g.jsx)(I.a,{color:"primary",edge:"end",onClick:function(){return c(Kr.removeUpload({id:t.video.id}))},children:Object(g.jsx)(ir.a,{})})})]})}):null},ca=Object(f.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},moveIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),oa=function(e){var t=e.upload,r=ca(),n=Lr(t),c=Object(a.useState)(!1),o=Object(R.a)(c,2),i=o[0],s=o[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ie.a,{disableFocusListener:!0,disableTouchListener:!0,title:n?"Nao foi possivel fazer o upload, clique para mais detalhes":"",placement:"left",children:Object(g.jsxs)(Sr.a,{className:r.listItem,button:!0,onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(g.jsx)(Tr.a,{className:r.moveIcon,children:Object(g.jsx)(Er.a,{})}),Object(g.jsx)(Rr.a,{className:r.listItemText,primary:Object(g.jsx)(p.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(g.jsx)(Mr,{size:30,uploadOrFile:t}),Object(g.jsx)(na,{upload:t,hover:i})]})}),Object(g.jsx)(Ir.a,{component:"li"})]})},ia=Object(f.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),sa=n.a.forwardRef((function(e,t){var r=e.id,n=ia(),c=Object(N.b)().closeSnackbar,o=Object(a.useState)(!0),i=Object(R.a)(o,2),s=i[0],l=i[1],u=Object(Hr.c)((function(e){return e.upload.uploads})),d=function(e){return e.filter((function(e){return!Nr(e)})).length}(u);return Object(g.jsxs)(zt.a,{ref:t,className:n.card,onClick:function(){return console.log("card")},children:[Object(g.jsxs)(gr.a,{classes:{root:n.cardActionRoot},children:[Object(g.jsxs)(p.a,{variant:"subtitle2",className:n.title,children:["Fazendo upload de ",d," video(s)"]}),Object(g.jsxs)("div",{className:n.icons,children:[Object(g.jsx)(I.a,{color:"inherit",onClick:function(){return l(!s)},className:wr()(n.expand,Object(F.a)({},n.expandOpen,!s)),children:Object(g.jsx)(kr.a,{})}),Object(g.jsx)(I.a,{color:"inherit",onClick:function(){return c(r)},children:Object(g.jsx)(Pr.a,{})})]})]}),Object(g.jsx)(xr.a,{in:s,children:Object(g.jsx)(vr.a,{className:n.list,children:u.map((function(e,t){return Object(g.jsx)(oa,{upload:e},t)}))})})]})})),la=Object(f.a)((function(e){return{cardUpload:{boardRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{boardRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),ua=ve.d().shape({title:ve.f().label("Titulo").required().max(255),description:ve.f().label("Sinopse").required(),year_launched:ve.c().label("Ano de lan\xe7amento").required().min(1),duration:ve.c().label("Dura\xe7\xe3o").required().min(1),cast_members:ve.a().label("Membro do elenco").required().min(1),genres:ve.a().label("G\xeaneros").required().min(1).test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:ve.a().label("Categorias").required().min(1),rating:ve.f().label("Classifica\xe7\xe3o").required()}),da=Object.keys(_e);function ba(){var e=la(),t=He(ua),r=Object(We.a)({resolver:t,defaultValues:{rating:null,opened:!1,cast_members:[],genres:[],categories:[]}}),n=r.register,c=r.handleSubmit,o=r.getValues,i=r.setValue,s=r.errors,l=r.reset,u=r.watch,d=r.trigger,b=r.formState,j=Object(N.b)().enqueueSnackbar,f=Object(O.f)(),h=Object(O.h)().id,m=Object(a.useState)(null),x=Object(R.a)(m,2),v=x[0],y=x[1],P=Object(a.useContext)(W),C=Object(Q.a)(),k=Object(X.a)(C.breakpoints.up("md")),F=Object(a.useRef)(),w=Object(a.useRef)(),I=Object(a.useRef)(),A=Object(a.useRef)(Object(D.zipObject)(da,da.map((function(){return Object(a.createRef)()}))));Or(b.submitCount,s);var E=Object(Hr.b)();Object(a.useEffect)((function(){["rating","opened","genres","categories","cast_members"].concat(Object(Ut.a)(da)).forEach((function(e){return n({name:e})}))}),[n]);var L=Object(a.useCallback)((function(e){Object.keys(A.current).forEach((function(e){return A.current[e].current.clear()})),F.current.clear(),w.current.clear(),I.current.clear(),l(e)}),[l]);function _(e,t){return B.apply(this,arguments)}function B(){return(B=Object(T.a)(S.a.mark((function e(t,r){var a,n,c,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=Object(D.omit)(t,[].concat(Object(Ut.a)(da),["cast_members","genres","categories"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),a.categories_id=t.categories.map((function(e){return e.id})),a.genres_id=t.genres.map((function(e){return e.id})),n=v?Lt.update(v.id,a):Lt.create(a),e.next=8,n;case 8:c=e.sent,o=c.data,j("Video salvo com sucesso",{variant:"success"}),q(o.data),h&&L(v),setTimeout((function(){r?h?f.replace("/videos/".concat(o.data.id,"/edit")):f.push("/videos/".concat(o.data.id,"/edit")):f.push("/videos")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),j("Nao foi poss\xedvel salvar o video",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function q(e){var t=da.filter((function(e){return o()[e]})).map((function(e){return{fileField:e,file:o()[e]}}));t.length>0&&(E(Kr.addUpload({video:e,files:t})),j("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){return Object(g.jsx)(sa,{id:e})}}))}return Object(a.useEffect)((function(){if(h){var e=!0;return Object(T.a)(S.a.mark((function t(){var r,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.get(h);case 3:r=t.sent,a=r.data,e&&(y(a.data),L(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),j("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[h,j,L]),Object(g.jsxs)(et,{GridItemProps:{xs:12},onSubmit:c(_),children:[Object(g.jsxs)(Ke.a,{container:!0,spacing:5,children:[Object(g.jsxs)(Ke.a,{item:!0,xs:12,md:6,children:[Object(g.jsx)(K.a,{name:"title",label:"Titulo",fullWidth:!0,variant:"outlined",inputRef:n,disabled:P,InputLabelProps:{shrink:!0},error:void 0!==s.title,helperText:s.title&&s.title.message}),Object(g.jsx)(K.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",margin:"normal",fullWidth:!0,variant:"outlined",inputRef:n,disabled:P,InputLabelProps:{shrink:!0},error:void 0!==s.description,helperText:s.description&&s.description.message}),Object(g.jsxs)(Ke.a,{container:!0,spacing:1,children:[Object(g.jsx)(Ke.a,{item:!0,xs:6,children:Object(g.jsx)(K.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",margin:"normal",fullWidth:!0,variant:"outlined",inputRef:n,disabled:P,InputLabelProps:{shrink:!0},error:void 0!==s.year_launched,helperText:s.year_launched&&s.year_launched.message})}),Object(g.jsx)(Ke.a,{item:!0,xs:6,children:Object(g.jsx)(K.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",margin:"normal",fullWidth:!0,variant:"outlined",inputRef:n,disabled:P,InputLabelProps:{shrink:!0},error:void 0!==s.duration,helperText:s.duration&&s.duration.message})})]}),Object(g.jsx)(mr,{ref:F,cast_members:u("cast_members"),setCastMembers:function(e){return i("cast_members",e,{shouldValidate:!0})},error:s.cast_members,disabled:P}),Object(g.jsxs)(Ke.a,{container:!0,spacing:2,children:[Object(g.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(g.jsx)(pr,{ref:w,genres:u("genres"),setGenres:function(e){return i("genres",e,{shouldValidate:!0})},categories:u("categories"),setCategories:function(e){return i("categories",e,{shouldValidate:!0})},error:s.genres,disabled:P})}),Object(g.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(g.jsx)(hr,{ref:I,categories:u("categories"),setCategories:function(e){return i("categories",e,{shouldValidate:!0})},genres:u("genres"),error:s.categories,disabled:P})})]})]}),Object(g.jsxs)(Ke.a,{item:!0,xs:12,md:6,children:[Object(g.jsx)(Xt,{value:u("rating"),setValue:function(e){return i("rating",e,{shouldValidate:!0})},error:s.rating,disabled:P,FormControlProps:{margin:k?"none":"normal"}}),Object(g.jsx)("br",{}),Object(g.jsx)(zt.a,{className:e.cardUpload,children:Object(g.jsxs)(Gt.a,{children:[Object(g.jsx)(p.a,{color:"primary",variant:"h6",children:"Imagens"}),Object(g.jsx)(er,{ref:A.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return i("thumb_file",e)}}),Object(g.jsx)(er,{ref:A.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return i("banner_file",e)}})]})}),Object(g.jsx)(zt.a,{className:e.cardUpload,children:Object(g.jsxs)(Gt.a,{children:[Object(g.jsx)(p.a,{color:"primary",variant:"h6",children:"Videos"}),Object(g.jsx)(er,{ref:A.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return i("trailer_file",e)}}),Object(g.jsx)(er,{ref:A.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){return i("video_file",e)}})]})}),Object(g.jsx)(zt.a,{className:e.cardOpened,children:Object(g.jsx)(Gt.a,{className:e.cardContentOpened,children:Object(g.jsx)(ze.a,{control:Object(g.jsx)(Ge.a,{name:"opened",color:"primary",onChange:function(){return i("opened",!o().opened)},checked:u("opened"),disabled:P}),label:Object(g.jsx)(p.a,{color:"primary",variant:"subtitle2",children:"Quero que este conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"}),labelPlacement:"end"})})})]})]}),Object(g.jsx)(Xe,{disabledButtons:P,handleSave:function(){return d().then((function(e){e&&_(o(),null)}))}})]})}function pa(){var e=Object(O.h)().id;return Object(g.jsx)(v,{title:e?"Editar video":"Criar video",children:Object(g.jsx)(ba,{})})}var ja=r(1001),fa=r(1003),ha=r(1002),ma=(r(522),Object(f.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),Oa=function(e){var t,r=e.uploadOrFile,n=ma(),c=Object(Hr.b)(),o=Object(a.useState)(!1),i=Object(R.a)(o,2),s=i[0],l=i[1],d=Object(je.a)(s,2500),b=Object(R.a)(d,1)[0],p=Lr(r),j=null===(t=r.video)||void 0===t?void 0:t.id,f=_r(r);return Object(a.useEffect)((function(){l(Nr(r))}),[r]),b?Object(g.jsx)(Dr.a,{in:!0,timeout:{enter:1e3},children:Object(g.jsxs)(g.Fragment,{children:[1===r.progress&&!p&&Object(g.jsx)(zr.a,{className:n.successIcon}),p&&Object(g.jsx)(Wr.a,{className:n.errorIcon}),f&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ir.a,{className:n.divider,orientation:"vertical"}),Object(g.jsx)(I.a,{onClick:function(){return c(Kr.removeUpload({id:j}))},children:Object(g.jsx)(ir.a,{color:"primary"})}),Object(g.jsx)(I.a,{component:u.b,to:"/videos/".concat(j,"/edit"),children:Object(g.jsx)(E.a,{color:"primary"})})]})]})}):null},ga=Object(f.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),xa=function(e){var t=e.uploadOrFile,r=ga();return Object(g.jsx)(Sr.a,{children:Object(g.jsxs)(Ke.a,{container:!0,alignItems:"center",children:[Object(g.jsxs)(Ke.a,{className:r.gridTitle,item:!0,xs:12,md:9,children:[Object(g.jsx)(Er.a,{className:r.icon}),Object(g.jsx)(p.a,{color:"inherit",children:e.children})]}),Object(g.jsx)(Ke.a,{item:!0,xs:12,md:3,children:Object(g.jsxs)(Ke.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(g.jsx)(Mr,{size:48,uploadOrFile:t}),Object(g.jsx)(Oa,{uploadOrFile:t})]})})]})})},va=Object(f.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),ya=[{name:"dashboard",label:"Dashboard",path:"/",component:y,exact:!0},{name:"categories.list",label:"Listar categorias",path:"/categories",component:Ue,exact:!0},{name:"categories.create",label:"Criar categoria",path:"/categories/create",component:at,exact:!0},{name:"categories.edit",label:"Editar categoria",path:"/categories/:id/edit",component:at,exact:!0},{name:"genres.list",label:"Listar g\xeaneros",path:"/genres",component:lt,exact:!0},{name:"genres.create",label:"Criar g\xeanero",path:"/genres/create",component:pt,exact:!0},{name:"genres.edit",label:"Editar g\xeanero",path:"/genres/:id/edit",component:pt,exact:!0},{name:"cast_members.list",label:"Listar membros do elenco",path:"/cast-members",component:gt,exact:!0},{name:"cast_members.create",label:"Criar membro do elenco",path:"/cast-members/create",component:wt,exact:!0},{name:"cast_members.edit",label:"Editar membro do elenco",path:"/cast-members/:id/edit",component:wt,exact:!0},{name:"videos.list",label:"Listar videos",path:"/videos",component:Vt,exact:!0},{name:"videos.create",label:"Criar video",path:"/videos/create",component:pa,exact:!0},{name:"videos.edit",label:"Editar video",path:"/videos/:id/edit",component:pa,exact:!0},{name:"uploads",label:"Upload",path:"/uploads",component:function(){var e=va(),t=Object(Hr.c)((function(e){return e.upload.uploads}));return Object(g.jsx)(v,{title:"Uploads",children:t.map((function(t,r){return Object(g.jsxs)(zt.a,{elevation:5,children:[Object(g.jsx)(Gt.a,{children:Object(g.jsx)(xa,{uploadOrFile:t,children:t.video.title})}),Object(g.jsxs)(ja.a,{style:{margin:0},children:[Object(g.jsx)(fa.a,{className:e.panelSummary,expandIcon:Object(g.jsx)(kr.a,{className:e.expandedIcon}),children:Object(g.jsx)(p.a,{children:"Ver detalhes"})}),Object(g.jsx)(ha.a,{style:{padding:"0px"},children:Object(g.jsx)(Ke.a,{item:!0,xs:12,children:Object(g.jsx)(vr.a,{dense:!0,style:{padding:"opx"},children:t.files.map((function(e,t){return Object(g.jsxs)(n.a.Fragment,{children:[Object(g.jsx)(Ir.a,{}),Object(g.jsx)(xa,{uploadOrFile:e,children:"".concat(_e[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]},r)}))})},exact:!0}],Pa=r(523),Ca=r.n(Pa),ka={};ya.forEach((function(e){return ka[e.path]=e.label}));var Fa=Object(f.a)((function(e){return Object(h.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),wa=function(e){return Object(g.jsx)(m.a,Object(d.a)(Object(d.a)({},e),{},{component:u.b}))};function Sa(){var e=Fa();return Object(g.jsx)(j.a,{children:Object(g.jsx)(l.a,{paddingBottom:2,children:Object(g.jsx)(O.a,{children:function(t){return function(t){var r=t.pathname.split("/").filter((function(e){return e}));return r.unshift("/"),Object(g.jsx)(b.a,{"aria-label":"breadcrumb",children:r.map((function(t,a){var n=a===r.length-1,c="".concat(r.slice(0,a+1).join("/").replace("//","/")),o=Object.keys(ka).find((function(e){return new Ca.a(e).match(c)}));return void 0!==o&&(n?Object(g.jsx)(p.a,{color:"textPrimary",children:ka[o]},c):Object(g.jsx)(wa,{color:"inherit",to:c,className:e.linkRouter,children:ka[o]},c))}))})}(t.location)}})})})}var Ta=r(988),Ra=r(450),Ia=r(512),Aa=r(524),Ea=r.n(Aa),Da={dashboard:"Dashboard","categories.list":"Categorias","cast_members.list":"Membros de elenco","genres.list":"G\xeaneros","videos.list":"Videos",uploads:"Uploads"},Na=ya.filter((function(e){return Object.keys(Da).includes(e.name)})),La=function(){var e=n.a.useState(null),t=Object(R.a)(e,2),r=t[0],a=t[1],c=Boolean(r),o=function(){return a(null)};return Object(g.jsxs)(n.a.Fragment,{children:[Object(g.jsx)(I.a,{edge:"start",color:"inherit","arial-label":"open drawer","arial-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return a(e.currentTarget)},children:Object(g.jsx)(Ea.a,{})}),Object(g.jsx)(Ia.a,{id:"menu-appbar",open:c,anchorEl:r,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:Object.keys(Da).map((function(e,t){var r=Na.find((function(t){return t.name===e}));return Object(g.jsx)(ut.a,{component:u.b,to:r.path,onClick:o,children:Da[e]},t)}))})]})},_a=Object(f.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(F.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Ba=function(){var e=_a();return Object(g.jsx)(Ta.a,{children:Object(g.jsxs)(Ra.a,{className:e.toolbar,children:[Object(g.jsx)(La,{}),Object(g.jsx)(p.a,{className:e.title,children:Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"CodeFlix",className:e.logo})}),Object(g.jsx)(Ye.a,{color:"inherit",children:"Login"})]})})},qa=function(){return Object(g.jsx)(O.c,{children:ya.map((function(e,t){return Object(g.jsx)(O.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},Ma=Object(f.a)((function(e){return{root:{pointerEvents:"all"},variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),Va=function(e){var t,r=Ma(),a={classes:r,autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return Object(g.jsx)(I.a,{color:"inherit",style:{fontSize:20},onClick:function(){t.closeSnackbar(e)},children:Object(g.jsx)(Pr.a,{})})},children:e.children},n=Object(d.a)(Object(d.a)({},a),e);return Object(g.jsx)(N.a,Object(d.a)(Object(d.a)({className:r.root},n),{},{children:e.children}))},Ua=r(1008);function za(e){return Object(d.a)(Object(d.a)({},e),{},{palette:Object(d.a)(Object(d.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var Ga=function(){var e=Object(a.useContext)(W);return Object(g.jsx)(i.a,{theme:za,children:Object(g.jsx)(Dr.a,{in:e,children:Object(g.jsx)(Ua.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})})})},Wa=function(e){var t=Object(a.useState)(!1),r=Object(R.a)(t,2),n=r[0],c=r[1],o=Object(a.useState)(0),i=Object(R.a)(o,2),s=i[0],l=i[1];function u(){l((function(e){return e-1}))}return Object(a.useMemo)((function(){var e=!0,t=function(e,t){var r,a=[],n=Object(we.a)(Ie);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.request.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return!e||t.headers&&t.headers.hasOwnProperty("x-ignore-loading")||(c(!0),l((function(e){return e+1}))),t})),r=function(e,t){var r,a=[],n=Object(we.a)(Ie);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.response.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&u(),t}),(function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&u(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return Ie[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return Ie[t].interceptors.response.eject(e)}))}(r)}}),[!0]),Object(a.useEffect)((function(){s||c(!1)}),[s]),Object(g.jsx)(W.Provider,{value:n,children:e.children})},Ha=function(){return Object(g.jsx)(n.a.Fragment,{children:Object(g.jsx)(Wa,{children:Object(g.jsx)(i.a,{theme:V,children:Object(g.jsxs)(Va,{children:[Object(g.jsx)(s.a,{}),Object(g.jsxs)(u.a,{basename:"/admin",children:[Object(g.jsx)(Ga,{}),Object(g.jsx)(Ba,{}),Object(g.jsxs)(l.a,{paddingTop:"70px",children:[Object(g.jsx)(Sa,{}),Object(g.jsx)(qa,{})]})]})]})})})})},Ya=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,1018)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))},Qa=r(114),Xa=r(190),Za=r(98),Ka=S.a.mark($a),Ja=S.a.mark(en);function $a(){var e,t,r,a,n,c,o;return S.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Za.a)(Zr.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Za.e)(e);case 6:t=i.sent,r=t.payload,a=Object(we.a)(r.files),i.prev=9,a.s();case 11:if((n=a.n()).done){i.next=25;break}return c=n.value,i.prev=13,i.next=16,Object(Za.c)(en,{video:r.video,fileInfo:c});case 16:o=i.sent,console.log(o),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log(i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),a.e(i.t1);case 30:return i.prev=30,a.f(),i.finish(30);case 33:console.log(r),i.next=3;break;case 36:case"end":return i.stop()}}),Ka,null,[[9,27,30,33],[13,20]])}function en(e){var t,r,a,n,c,o;return S.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,r=e.fileInfo,i.next=3,Object(Za.c)(tn,{id:t.id,fileInfo:r});case 3:a=i.sent;case 4:return i.prev=5,i.next=8,Object(Za.e)(a);case 8:if(n=i.sent,c=n.progress,!(o=n.response)){i.next=13;break}return i.abrupt("return",o);case 13:return i.next=15,Object(Za.d)(Kr.updateProgress({video:t,fileField:r.fileField,progress:c}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Za.d)(Kr.setUploadError({video:t,fileField:r.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),Ja,null,[[5,17]])}function tn(e){var t=e.id,r=e.fileInfo;return Object(Xa.c)((function(e){Lt.partialUpdate(t,Object(F.a)({_method:"PATCH"},r.fileField,r.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var r=t.loaded/t.total;e({progress:r})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Xa.a)}));return function(){}}))}var rn=S.a.mark(an);function an(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Za.b)([$a()]);case 2:case"end":return e.stop()}}),rn)}var nn=Object(Xa.b)(),cn=Object(Qa.d)(Object(Qa.b)({upload:$r}),Object(Qa.a)(nn));nn.run(an);var on=cn;o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(Hr.a,{store:on,children:Object(g.jsx)(Ha,{})})}),document.getElementById("root")),Ya()}},[[958,1,2]]]);
//# sourceMappingURL=main.701dd3c3.chunk.js.map